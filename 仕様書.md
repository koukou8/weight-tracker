# 体重記録アプリ仕様書

## 1. プロジェクト概要

Rails 8、Tailwind CSS、SQLiteを使用した体重記録アプリケーションの開発。ユーザーが日々の体重を記録し、グラフで推移を確認できるモダンなウェブアプリケーションを構築する。

## 2. 技術スタック

- **バックエンド**: Ruby on Rails 8
- **フロントエンド**: Tailwind CSS
- **データベース**: SQLite
- **グラフ描画**: Chart.js
- **認証**: Devise

## 3. 機能要件

### 3.1 ユーザー管理
- ユーザー登録・ログイン機能
- プロフィール設定（性別、身長、年齢、目標体重）
- パスワードリセット機能

### 3.2 体重記録機能
- 日付と体重の記録
- 体脂肪率の記録（オプション）
- BMIの自動計算
- メモ機能（その日の運動や食事など）

### 3.3 グラフ表示機能
- 期間選択（週間、月間、年間）
- 体重推移の折れ線グラフ
- 体脂肪率推移のグラフ（オプション）
- BMI推移のグラフ
- 目標ラインの表示

### 3.4 統計・分析機能
- 平均体重の表示
- 増減のトレンド分析
- 週間・月間レポート

### 3.5 目標管理機能
- 目標体重の設定
- 達成予想日の計算
- 進捗状況の表示

### 3.6 その他の機能
- データのCSVエクスポート
- リマインダー設定

## 4. 画面設計

### 4.1 ログイン・登録画面
- シンプルでモダンなデザイン
- ユーザー名、メールアドレス、パスワード入力フィールド

### 4.2 ダッシュボード
- 最新の体重データ
- 過去7日間のミニグラフ
- 目標までの進捗状況
- クイック記録ボタン

### 4.3 記録入力画面
- 日付選択（カレンダーUI）
- 体重入力フィールド
- 体脂肪率入力フィールド（オプション）
- メモ入力エリア

### 4.4 グラフ画面
- 期間選択タブ
- フルサイズのグラフ表示
- データ種別の切り替え
- ズーム機能

### 4.5 設定画面
- プロフィール設定
- 目標設定
- 通知設定
- アカウント管理

## 5. データベース設計

### 5.1 Usersテーブル
- id: integer (primary key)
- email: string
- password_digest: string
- name: string
- height: float
- gender: string
- birth_date: date
- target_weight: float
- created_at: datetime
- updated_at: datetime

### 5.2 WeightLogsテーブル
- id: integer (primary key)
- user_id: integer (foreign key)
- date: date
- weight: float
- body_fat: float (nullable)
- memo: text
- created_at: datetime
- updated_at: datetime

### 5.3 Goalsテーブル
- id: integer (primary key)
- user_id: integer (foreign key)
- target_weight: float
- target_date: date
- created_at: datetime
- updated_at: datetime

## 6. UI/UXデザイン

### 6.1 デザイン方針
- モダンでクリーンなデザイン
- モバイルファーストのレスポンシブデザイン
- 直感的な操作性
- ダークモード対応

### 6.2 カラーパレット
- プライマリカラー: #3B82F6 (青系)
- セカンダリカラー: #10B981 (緑系)
- アクセントカラー: #F59E0B (オレンジ系)
- 背景色: #F9FAFB / #1F2937 (ライト/ダークモード)
- テキスト: #1F2937 / #F9FAFB (ライト/ダークモード)

## 7. 開発・デプロイ計画

### 7.1 開発環境
- ローカル開発環境の構築
- バージョン管理: Git

### 7.2 デプロイ方法
- 初期段階: ローカル環境での実行
- 将来的にはHerokuやRender等へのデプロイも検討

## 8. 将来的な拡張案

- 食事記録機能の追加
- 運動記録機能の追加
- SNS連携（進捗共有）
- モバイルアプリ化（PWA対応）

## 9. 参考資料・リソース

- [Rails 8 ドキュメント](https://guides.rubyonrails.org/)
- [Tailwind CSS ドキュメント](https://tailwindcss.com/docs)
- [Chart.js ドキュメント](https://www.chartjs.org/docs/latest/)
- [Devise ドキュメント](https://github.com/heartcombo/devise) 